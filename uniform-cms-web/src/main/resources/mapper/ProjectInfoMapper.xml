<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nokia.ucms.biz.repository.ProjectInfoRepository">

    <resultMap type="ProjectInfo" id="rs_project">
        <id property="id" column="id"/>
        <result property="name" column="p_name"/>
        <result property="description" column="p_description"/>
        <result property="owner" column="p_owner"/>
        <result property="tableName" column="p_tablename"/>
        <result property="state" column="p_state"/>
    </resultMap>

    <select id="getProjectInfoByName" parameterType="java.lang.String" resultMap="rs_project">
        SELECT * FROM `t_project` WHERE `p_name` = #{projectName}
    </select>

    <insert id="addProjectInfo" parameterType="ProjectInfo" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO `t_project` (`p_name`, `p_description`, `p_owner`, `p_tablename`, `p_state`)
        VALUES(#{name}, #{description}, #{owner}, #{tableName}, #{state})
    </insert>

</mapper>