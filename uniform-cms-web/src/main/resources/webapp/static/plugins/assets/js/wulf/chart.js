!function(a){"function"==typeof define&&define.amd?define(["jquery","jqxcore","jqxchart"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,require("jqxcore"),require("jqxchart")),c}:a(jQuery)}(function(a){"use strict";a.jqx.adjustColor=function(a){return"string"!=typeof a?"#000000":-1==a.indexOf("#")?a:a.toUpperCase()},a.extend(a.jqx._jqxChart.prototype,{_defaultLineColor:"#B1B1B1",_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include jqxdraw.js";var c=document.createElement("div"),d=this.seriesGroups[0].type;if(a(c).addClass("panel-shadow"),"line"===d||"column"===d?(c.style.width=b.width()-70+"px",c.style.height=b.height()-60+"px",this.padding={top:12,left:9,right:28,bottom:28}):(c.style.width=b.width()+"px",c.style.height=b.height()+"px"),"donut"===d){var e=document.createElement("div"),f=this.seriesGroups[0].series[0],g=f.innerRadius,h=1.5*f.radius,i=b.height()/2-f.radius-g;e.className="pie-shadow",e.style.width=h+"px",e.style.height=g+"px",e.style.marginLeft=-h/2+"px",e.style.bottom=i+"px",c.appendChild(e),b.addClass("pie-chart")}var j=this.seriesGroups[0].series.length;if(j&&this.showLegend){var k=25*j;this.padding.top=12+k,c.style.height=b.height()-60-k+"px",k+="px",a(c).css({top:k})}a(c).css({"background-color":"white","border-radius":"9px"});var l=a.jqx.createRenderer(this,b);return a(b.find(".chartContainer")).css({"z-index":"1"}),b.append(c),l},_animColumns:function(b,c){for(var d=b.groupIndex,e=this.seriesGroups[d],f=b.renderData,g=-1!=e.type.indexOf("waterfall"),h=this._getXAxis(d),i=-1!=e.type.indexOf("stacked"),j=b.polarAxisCoords,k=(this._getGroupGradientType(d),b.columnGroupWidth.targetWidth,-1),l=0;l<e.series.length;l++)if(this._isSerieVisible(d,l)){k=l;break}for(var m=NaN,n=NaN,l=0;l<b.seriesCtx.length;l++){var o=b.seriesCtx[l];(isNaN(m)||m>o.xAdjust)&&(m=o.xAdjust),(isNaN(n)||n<o.xAdjust+o.columnWidth)&&(n=o.xAdjust+o.columnWidth)}for(var p=Math.abs(n-m),q=b.renderData.xoffsets,r=-1,s={},t=1==e.skipOverlappingPoints,u=q.first;u<=q.last;u++){var v=q.data[u];if(!(isNaN(v)||-1!=r&&Math.abs(v-r)<p&&t)){r=v;var w=this._getColumnVOffsets(f,d,b.seriesCtx,u,i,c),x=!1;if(g)for(var y=0;y<e.series.length;y++)e.series[y].summary&&q.xvalues[u][e.series[y].summary]&&(x=!0);for(var y=0;y<b.seriesCtx.length;y++){var o=b.seriesCtx[y],z=o.seriesIndex,A=e.series[z],B=w[y].from,C=w[y].to,D=w[y].xOffset;o.elements||(o.elements={}),o.labelElements||(o.labelElements={});var E=o.elements,F=o.labelElements,G=(b.vertical?b.rect.x:b.rect.y)+o.xAdjust,H=o.settings,I=0!=o.itemsColors.length?o.itemsColors[u-f.xoffsets.first]:o.serieColors,J=this._isSerieVisible(d,z);if(J){var v=a.jqx._ptrnd(G+D),K={x:v,width:o.columnWidth};w[y].funnel&&(K.fromWidthPercent=w[y].fromWidthPercent,K.toWidthPercent=w[y].toWidthPercent);var L=!0;b.vertical?(K.y=B,K.height=C-B,K.height<0&&(K.y+=K.height,K.height=-K.height,L=!1)):(K.x=C>B?B:C,K.width=Math.abs(B-C),L=0>B-C,K.y=v,K.height=o.columnWidth);var M=B-C;if(!isNaN(M)){M=Math.abs(M);var N=void 0,O=void 0==E[u];if(j){N=this._columnAsPieSlice(E,u,b.rect,j,K);var I=this._getColors(d,z,void 0,"radialGradient",N.outerRadius)}else if(w[y].funnel){var P=this._getTrapezoidPath(a.extend({},K),b.vertical,L);O?E[u]=this.renderer.path(P,{}):this.renderer.attr(E[u],{d:P})}else O?E[u]=this.renderer.rect(K.x,K.y,b.vertical?K.width:0,b.vertical?0:K.height):1==b.vertical?this.renderer.attr(E[u],{x:K.x,y:K.y,height:M+5}):this.renderer.attr(E[u],{x:K.x,y:K.y,width:M});if(1>M&&(1!=c||j)?this.renderer.attr(E[u],{display:"none"}):this.renderer.attr(E[u],{display:"block"}),O&&this.renderer.attr(E[u],{fill:I.fillColor,"fill-opacity":H.opacity,"stroke-opacity":H.opacity,stroke:I.lineColor,"stroke-width":H.stroke,"stroke-dasharray":H.dashStyle}),this.renderer.removeElement(F[u]),J&&!(0==M&&1>c)){if(g&&0!=this._get([A.showWaterfallLines,e.showWaterfallLines])){if(!i||i&&y==k){var Q=i?-1:y;if(1==c&&!isNaN(f.offsets[y][u].from)&&!isNaN(f.offsets[y][u].to)){var R=s[Q];if(void 0!=R){var S={x:R.x,y:a.jqx._ptrnd(R.y)},T={x:v,y:S.y},U=e.columnsTopWidthPercent/100;isNaN(U)?U=1:(U>1||0>U)&&(U=1);var V=e.columnsBottomWidthPercent/100;isNaN(V)?V=1:(V>1||0>V)&&(V=1);var W=b.vertical?K.width:K.height;if(S.x=S.x-W/2+W/2*U,x){var X=W*U/2;T.x=T.x+W/2-(h.flip?-X:X)}else{var X=W*V/2;T.x=T.x+W/2-(h.flip?-X:X)}b.vertical||(this._swapXY([S]),this._swapXY([T])),this.renderer.line(S.x,S.y,T.x,T.y,{stroke:R.color,"stroke-width":H.stroke,"stroke-opacity":H.opacity,"fill-opacity":H.opacity,"stroke-dasharray":H.dashStyle})}}}1==c&&0!=M&&(s[i?-1:y]={y:C,x:b.vertical?K.x+K.width:K.y+K.height,color:I.lineColor})}if(j){var W=(this._toPolarCoord(j,b.rect,K.x+K.width/2,K.y),this._showLabel(d,z,u,K,void 0,void 0,!0)),Y=N.outerRadius+10,Z=this._adjustTextBoxPosition(j.x,j.y,W,Y,(N.fromAngle+N.toAngle)/2,!0,!1,!1);F[u]=this._showLabel(d,z,u,{x:Z.x,y:Z.y},void 0,void 0,!1,!1,!1)}else F[u]=this._showLabel(d,z,u,K,void 0,void 0,!1,!1,L);1==c&&this._installHandlers(E[u],"column",d,z,u)}}}}}}},_createTooltip:function(b,c,d,e){var f=this,g=c.type,h=!1,i=f._ttEl.box;if(!i){h=!0,i=f._ttEl.box=document.createElement("div");var j=1e7,k=document.createElement("div");i.style.position="absolute",i.style.cursor="default",i.style.zIndex=9,i.setAttribute("aria-labelledby","tooltip-msg"),i.setAttribute("role","alertdialog"),a(k).css({"z-index":j,"box-sizing":"content-box"}),a(document.body).append(i),k.id="arrowOuterDiv",k.style.width="0px",k.style.height="0px",k.style.position="absolute",a(k).css({"z-index":j+1,"box-sizing":"content-box"});var l=document.createElement("div");l.id="arrowInnerDiv",l.style.width="0px",l.style.height="0px",l.style.position="absolute";var m=document.createElement("div");m.id="contentDiv",m.style.position="absolute",m.style.borderRadius="7px",a(m).css({"box-sizing":"content-box"}),a(m).addClass("jqx-rc-all jqx-button"),a(m).appendTo(a(i)),a(k).appendTo(a(i)),a(l).appendTo(a(i)),a(l).css({"z-index":j+2,"box-sizing":"content-box"})}if(!d||0==d.length)return void a(i).fadeTo(0,0);m=a(i).find("#contentDiv")[0],k=a(i).find("#arrowOuterDiv")[0],l=a(i).find("#arrowInnerDiv")[0],l.style.opacity=k.style.opacity=e.fillOpacity,m.style.backgroundColor="black",m.style.backgroundImage="linear-gradient(to bottom, #666 0%, #000 100%)",m.style.borderColor="black",m.style.color="white",m.style.opacity=e.fillOpacity,m.style.boxShadow="0 3px 5px rgba(0, 0, 0, 0.65)";var n="<span id='tooltip-msg' style='text-align: left;color:#fff;font-size:14px;display:inline-block;padding:9px 7px 8px 7px;' class='"+e.css+"'>"+d+"</span>";a(m).html(n);var o=this._measureHtml(n,"jqx-rc-all jqx-button"),p=f._plotRect;if(!(o.width>p.width||o.height>p.height)){var q={width:o.width,height:o.height},r="",s=10,t=f._isColumnType(g),u=Math.max(b.x,p.x),v=Math.max(b.y,p.y);if("dataPoint"==f.toolTipAlignment){if(-1!=g.indexOf("pie")||-1!=g.indexOf("donut")){var w=(b.fromAngle+b.toAngle)/2;w*=Math.PI/180;var x=!isNaN(b.innerRadius)&&b.innerRadius>0?(b.innerRadius+b.outerRadius)/2:.75*b.outerRadius;u=b.x=b.center.x+Math.cos(w)*x,v=b.y=b.center.y-Math.sin(w)*x,b.width=b.height=1}else t&&(c.polar||c.spider)&&(b.width=b.height=1);var y=this._fitTooltip(this._plotRect,b,q,c,e.symbolSize);""!=y.arrowLocation&&(r=y.arrowLocation,u=y.x,v=y.y,q.width=y.width,q.height=y.height)}else r="";"top"==r||"bottom"==r?(q.height+=s,u-=s/2,"bottom"==r&&(v-=s)):("left"==r||"right"==r)&&(q.width+=s,v-=s/2,"right"==r&&(u-=s)),u+q.width>p.x+p.width&&(r="",u=p.x+p.width-q.width),v+q.height>p.y+p.height&&(r="",v=p.y+p.height-q.height);var z={x:0,y:0},A={x:0,y:0};a(m).css({width:o.width,height:o.height,left:0,top:0}),k.style["margin-top"]=k.style["margin-left"]=0,l.style["margin-top"]=l.style["margin-left"]=0,m.style["margin-top"]=m.style["margin-left"]=0;var B=s+"px solid",C=s+"px solid transparent";switch(e.fill="#000",e.stroke="#000",-1!=g.indexOf("line")&&(r="top"),r){case"left":z={x:0,y:(o.height-s)/2},A={x:s,y:0},m.style["margin-left"]=s+"px",k.style["margin-left"]="1px",k.style["margin-top"]=z.y+"px",k.style["border-left"]="",k.style["border-right"]=B+" "+e.stroke,k.style["border-top"]=C,k.style["border-bottom"]=C,l.style["margin-left"]="1px",l.style["margin-top"]=z.y+"px",l.style["border-left"]="",l.style["border-right"]=B+" "+e.fill,l.style["border-top"]=C,l.style["border-bottom"]=C;break;case"right":z={x:q.width-s,y:(o.height-s)/2},A={x:0,y:0},k.style["margin-left"]=z.x+"px",k.style["margin-top"]=z.y+"px",k.style["border-left"]=B+" "+e.stroke,k.style["border-right"]="",k.style["border-top"]=C,k.style["border-bottom"]=C,l.style["margin-left"]=z.x-1+"px",l.style["margin-top"]=z.y+"px",l.style["border-left"]=B+" "+e.fill,l.style["border-right"]="",l.style["border-top"]=C,l.style["border-bottom"]=C;break;case"top":z={x:q.width/2-s/2,y:0},A={x:0,y:s},m.style["margin-top"]=A.y+"px",k.style["margin-left"]=z.x+"px",k.style["border-top"]="",k.style["border-bottom"]=B+" "+e.stroke,k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]="1px",l.style["border-top"]="",l.style["border-bottom"]=B+" #666",l.style["border-left"]=C,l.style["border-right"]=C;break;case"bottom":z={x:q.width/2-s/2,y:q.height-s},A={x:0,y:0},k.style["margin-left"]=z.x+"px",k.style["margin-top"]=z.y+"px",k.style["border-top"]=B+" "+e.stroke,k.style["border-bottom"]="",k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]=z.y-1+"px",l.style["border-top"]=B+" "+e.fill,l.style["border-bottom"]="",l.style["border-left"]=C,l.style["border-right"]=C}-1!=g.indexOf("line")&&(this.element.clientWidth-b.x<=150?(u=b.x-q.width+4*s,v=b.y+20,z={x:q.width-5*s,y:0},A={x:0,y:s},m.style["margin-top"]=A.y+"px",k.style["margin-left"]=z.x+"px",k.style["border-top"]="",k.style["border-bottom"]=B+" "+e.stroke,k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]="1px",l.style["border-top"]="",l.style["border-bottom"]=B+" #666",l.style["border-left"]=C,l.style["border-right"]=C):(u=b.x-30,v=b.y+20,z={x:2*s,y:0},A={x:0,y:s},m.style["margin-top"]=A.y+"px",k.style["margin-left"]=z.x+"px",k.style["border-top"]="",k.style["border-bottom"]=B+" "+e.stroke,k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]="1px",l.style["border-top"]="",l.style["border-bottom"]=B+" #666",l.style["border-left"]=C,l.style["border-right"]=C)),""==r?(a(k).hide(),a(l).hide()):(a(k).show(),a(l).show()),a(i).css({width:q.width+"px",height:q.height+"px"});var D=f.host.coord();h&&(a(i).fadeOut(0,0),i.style.left=u+D.left+"px",i.style.top=v+D.top-20+"px"),a(i).clearQueue(),a(i).css({left:u+D.left,top:v+D.top-20}),a(i).fadeTo(0,1)}},_applyPieSelect:function(){var a=this._selected;a&&(a.element.style.strokeWidth=2,a.element.style.stroke="#00A1CC")},_applyPieUnselect:function(){var a=this._selected;a&&(a.element.style.strokeWidth=0)}}),a.extend(a.jqx.svgRenderer.prototype,{line:function(a,b,c,d,e){b===d&&(c+=16);var f=this.shape("line",{x1:a,y1:b,x2:c,y2:d});return this.attr(f,e),a===c&&this.attr(f,{"stroke-width":"0"}),f},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=Math.max(1,a.jqx._rnd(d,1,!1)),e=Math.max(1,a.jqx._rnd(e,1,!1));var g=this.shape("rect",{x:b,y:c,width:d,height:e});f&&this.attr(g,f);var h=e>50?9:5;return this.attr(g,{rx:h}),g},_toLinearGradient:function(a,b){var c="grd"+this._id+a.replace("#","")+(b?"v":"h"),d="url("+this.getWindowHref()+"#"+c+")";if(this._gradients[d])return d;var e=document.createElementNS(this._svgns,"linearGradient");this.attr(e,{x1:"0%",y1:"0%",x2:b?"0%":"100%",y2:b?"100%":"0%",id:c});var f=[0,50,50,100];a=["#0B6DAF","#0B6DAF","#09578C","#09578C"];for(var g=0;g<f.length;g++){var h=document.createElementNS(this._svgns,"stop"),i="stop-color:"+a[g];this.attr(h,{offset:f[g]+"%",style:i}),e.appendChild(h)}return this._defs.appendChild(e),this._gradients[d]=!0,d},_toRadialGradient:function(a,b,c){function d(a,b){var c=!1;"#"==a[0]&&(a=a.slice(1),c=!0);var d=parseInt(a,16),e=(d>>16)+b;e>255?e=255:0>e&&(e=0);var f=(d>>8&255)+b;f>255?f=255:0>f&&(f=0);var g=(255&d)+b;return g>255?g=255:0>g&&(g=0),(c?"#":"")+String("000000"+(g|f<<8|e<<16).toString(16)).slice(-6)}var e="grd"+this._id+a.replace("#","")+"r"+(void 0!=c?c.key:""),f="url("+this.getWindowHref()+"#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"radialGradient");void 0==c?this.attr(g,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:e}):this.attr(g,{cx:c.x,cy:c.y,r:c.outerRadius,id:e,gradientUnits:"userSpaceOnUse"}),b=[[0,0],[80,0],[81,-20],[100,-20]];for(var h=0;h<b.length;h++){var i=b[h],j=document.createElementNS(this._svgns,"stop"),k="stop-color:"+d(a,i[1]);this.attr(j,{offset:i[0]+"%",style:k}),g.appendChild(j)}return this._defs.appendChild(g),this._gradients[f]=!0,f}})});