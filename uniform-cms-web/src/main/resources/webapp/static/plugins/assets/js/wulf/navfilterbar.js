!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){"use strict";var b=function(b){var c=a(".filter-bar"),d=c.find(".n-list-months").find(".selected span").html(),e=c.find(".n-list-years").find(".selected span").html(),f=c.find(".n-list-countries").find(".selected span").html(),g=c.find(".n-list-cities").find(".selected span").html();d&&e&&f&&g&&b.find(".filter-bar-setting-item").html(d.substr(0,3)+" "+e+", "+f+", "+g)},c=function(a,b,c){var d="<li class='n-list-group-item ";d+=a===b?"selected' tabindex='0'":"' tabindex='-1'",d+="><span>"+a+"</span></li>",c.append(d)},d=function(b,d){var e=a(".n-list-cities");e&&(e.find(".mCSB_container").html()&&(e=e.find(".mCSB_container")),e.empty(),c("All cities",d,e),a.each(b,function(a,b){c(b.city,d,e)}),e.find(".n-list-group-item[tabindex='0']").length<1&&e.find(".n-list-group-item:first").attr("tabindex",0))};a(".filter-bar-nav").on("click","li",function(c){var d=a(".filter-bar"),e=a(c.target).closest(".n-banner-2nd"),f=e.find("ul").first(),g=e.find(".gray-mask").first(),h=e.find(".gray-corner").first();"none"!==d.css("display")?(f.find("span").css("display","block"),f.removeAttr("style"),f.removeClass("n-banner-filter-background"),g.removeClass("n-banner-filter-background"),h.removeClass("n-banner-filter-background"),a(".n-banner-3rd-filler-dark").css("display","none"),d.css("display","none"),a(this).find(".icon-settings-menu").removeClass("icon-transform-upside-down"),b(a(this))):(f.css("width",f.css("width")),f.find("span").css("display","none"),f.addClass("n-banner-filter-background"),g.addClass("n-banner-filter-background"),h.addClass("n-banner-filter-background"),a(".n-banner-3rd-filler-dark").css("display","block"),d.css("display","block"),a(this).find(".icon-settings-menu").addClass("icon-transform-upside-down"))}).on("mouseenter","li",function(){b(a(this))}),a(document).ready(function(){var b=a(".filter-bar-tab").find(".filter-bar-setting-item").html().split(","),e=b[0].trim().split(" "),f=e[0],g=e[1],h=b[1].trim(),i=b[2].trim();a(".n-banner-2nd > ul").clone().insertBefore("div.filter-bar-footer > div.n-banner-right"),a(".n-banner-2nd > .n-banner-2nd-gray-to-blue").clone().insertAfter("div.filter-bar-footer > div.n-banner-right");var j=["December","November","October","September","August","July","June","May","April","March","February","January"];a.each(j,function(b,c){var d="<li class='n-list-group-item ";c.substr(0,3)===f&&(d+="selected"),d+="'><span>"+c+"</span></li>",a("ul.n-list-months").append(d)});for(var k=(new Date).getFullYear(),l=0;11>l;l++)c(k-l+"",g,a("ul.n-list-years"));a("ul.n-list-countries").append("<li class='n-list-group-item' tabindex='0'><span>All</span></li>"),a("ul.n-list-cities").append("<li class='n-list-group-item' tabindex='0'><span>All cities</span></li>"),a.getJSON("../wulfdist/js/countries-cities.json",function(b){var e=a(".n-list-countries");if(e){var f=e;f.find(".mCSB_container").html()&&(f=f.find(".mCSB_container")),f.empty(),a.each(b.countries,function(a,b){c(b.country,h,f),b.country===h&&d(b.cities,i)}),f.find(".n-list-group-item[tabindex='0']").length<1&&f.find(".n-list-group-item:first").attr("tabindex",0)}e.on("click",function(c){var e=a(".n-list-cities").find("div.mCSB_container"),f="";f=c.toElement?c.toElement.innerText:c.target.innerText,e&&a.each(b.countries,function(a,b){return b.country===f?(d(b.cities,i),!0):void 0})})})})});