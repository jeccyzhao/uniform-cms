!function(a){"function"==typeof define&&define.amd?define(["angular","../const/constants"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("angular"):require("angular")(b)),a(c,require("../const/constants")),c}:a(angular)}(function(a){"use strict";function b(b){var c=null,d=this.panes=[],e=function(a){var b=d[a];b.selected=!0,c=a},f=function(){for(var a=null,b=d.length,c=0;b>c;c++)if(!d[c].disable){a=d[c];break}return a},g=function(a){for(var b=null,c=d.length,e=0;c>e;e++)d[e]===a&&(b=e);return b};this.addPane=function(a){d.push(a);var b=d.length-1;c===b&&(a.selected=!0)},this.selectPane=function(a,b){var d=g(a);if(null!==d&&d!==c){if(a.disable)return;e(d,b)}},this.removePane=function(a){var b=g(a);if(null!==b){var e=c;if(d.splice(b,1),b===e){c=null;var h=f();null!==h&&this.selectPane(h)}else e>b&&(c-=1)}};var h=function(a){for(var b=g(a),c=d.length,e=null,f=++b;c>f;f++)if(!d[f].disable){e=f;break}return d[e]},i=function(a){for(var b=g(a),c=null,e=--b;e>=0;e--)if(!d[e].disable){c=e;break}return d[c]};this.selectKeydown=function(a,c){switch(c.which){case b.SPACE:this.selectPane(a,c),c.preventDefault();break;case b.RIGHT:case b.DOWN:this.selectPane(h(a),c),c.preventDefault();break;case b.LEFT:case b.UP:this.selectPane(i(a),c),c.preventDefault()}},this.focus=function(b,c){for(var d=a.element(c.target),e=d.parent().parent().parent().find("ul").find("li"),f=0;f<e.length;f++)e.eq(f).hasClass("active")&&e.eq(f).removeClass("active");d.parent().addClass("active");var g=a.element(document.querySelector(".n-banner-2nd-gray-to-blue"));g.length>0&&(d.parent().hasClass("rightmost-tab")?g.addClass("active"):g.removeClass("active"))},this.$onInit=function(){c=a.isDefined(this.active)&&!isNaN(this.active)?this.active:0},this.$onChanges=function(a){if(a.active){var b=a.active.currentValue;if(b&&!isNaN(b)){var c=d[Number(b)];c&&this.selectPane(c)}}},this.$onDestroy=function(){this.destroyed=!0}}b.$inject=["WF-KEYCODE-CONST"];var c=function(a){this.selected=!1,this.closeable=!!a.close,this.$onInit=function(){this.tabsCtrl.addPane(this)},this.$onDestroy=function(){this.tabsCtrl&&!this.tabsCtrl.destroyed&&this.tabsCtrl.removePane(this)}};c.$inject=["$attrs"],a.module("wf.angular.bannerNavTabs",["wf.angular.constants"]).component("wfBannerNavTabs",{transclude:!0,templateUrl:"wf/ng-template/banner/bannerNavTabs.html",bindings:{active:"<?"},controller:b}).component("wfBannerNavTabItem",{transclude:!0,templateUrl:"wf/ng-template/banner/bannerNavTabItem.html",require:{tabsCtrl:"^wfBannerNavTabs"},bindings:{label:"@",cssClass:"@",link:"<",disable:"<?",hasChild:"<",onClose:"&close"},controller:c})});